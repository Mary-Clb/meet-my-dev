{% extends 'base.html.twig' %}

{% block title %}Meet My Dev{% endblock %}

{% block body %}
<div class="container mt-3">
	<div class="row justify-content-center">
		<div class="col-md-6">
			<form>
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search..."/>
                    <div class="input-group-btn">
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Options
                            </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <div class="dropdown-item">
                                        <input type="checkbox" name="option1" id="option1" checked>
                                        <label for="option1">Option 1</label>
                                    </div>
                                    <div class="dropdown-item">
                                        <input type="checkbox" name="option2" id="option2" checked>
                                        <label for="option2">Option 2</label>
                                    </div>
                                    <div class="dropdown-item">
                                        <input type="checkbox" name="option3" id="option3" checked>
                                        <label for="option3">Option 3</label>
                                    </div>
                                </div>
                        </div>
                    </div>
				</div>
			</form>
		</div>
	</div>
</div>

<div class="row my-3 cardContainer py-3 px-1 rounded-3">
{% if is_granted('ROLE_DEV') %}
    {% for comp in result %}
            <div class="col-sm-6">
                <div class="card my-3">
                    <div class="card-body">
                        <h5 class="card-title">{{ comp.username }}</h5>
                        <p class="card-text">{{ comp.presentation }}</p>
                                {% for activity in comp.activities %}
                                    <span> {{ activity.label }} </span>
                                {% endfor %}
                        <a href="/profile/{{ comp.id }}" class="btn btn-dark"> Voir profil</a>
                    </div>
                </div>
            </div>
    {% endfor %}
{% endif %}
{% if is_granted('ROLE_COMPANY') %}
    {% for dev in result %}
        <div class="col-sm-6">
            <div class="card my-3">
                <div class="card-body">
                    <h5 class="card-title">{{ dev.name }} {{ dev.firstname }}</h5>
                        <p class="card-text">{{ dev.presentation ?? "pas d'informations" }}</p>
                            {% for spe in dev.specialities %}
                                <span> {{ spe.label }} </span>
                            {% endfor %}
                        <a href="/profile/{{ dev.id }}" class="btn btn-dark">Voir profil</a>
                </div>
            </div>    
        </div>
    {% endfor %}
{% endif %}
</div>
{% endblock %}
